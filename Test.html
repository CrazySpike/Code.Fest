<!DOCTYPE html>

<html lang="en">

<head>

    <meta http-equiv="refresh" content="600" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>

        body {
            background-color: #1b4a6b;
        }

        #clockbox {
            text-align: center;
            position: absolute;
            left: 10px;
        }

        .weatherwidget-io {
            position: absolute;
            left: 350px;
            top: 25px;
            height: 200%;
            width: 100%;
            max-width: 1150px;
            min-width: 100px;
        }

        #searchBarContainer {
            position: absolute;
            right: 40px;
            top: 200px;
        }

        #searchBar {
            width: 750px; /* Adjust width as needed */
            padding: 10px;
            font-size: 16px;
        }

        #searchResult {
            position: absolute;
            right: 25px;
            top: 275px;
            color: white;
            width: 100%;
            max-width: 0px;
            min-width: 750px;
        }

        .microphone {
            position: absolute;
            right: 10px;
            top: 200px;
            border: none;
            cursor: pointer;
            appearance: none;
            background-color: inherit;
        }

        .microphone_img {
            width: 40px;
            height: 40px;
        }

        .music {
            position: absolute;
            right: 700px;
            top: 145px;
            border: none;
            cursor: pointer;
            appearance: none;
            background-color: inherit;
        }

        .music_img {
            width: 65px;
            height: 43.13px;
        }
    </style>

    <script>function search(searchQuery) {
            		const query = searchQuery;
            		if (window.pywebview) {
                		window.pywebview.api.search(query).then(response => {
					document.getElementById('searchResult').innerText = response;
				});
            		} else {
                		alert('pywebview is not available');
            		}
        	}
		function listening() {
			if (window.pywebview) {
                		window.pywebview.api.listening().then(response => {
					document.getElementById('searchResult').innerText = response;
				});
            		} else {
                		alert('pywebview is not available');
            		}
		}
		function music() {
			if (window.pywebview) {
                		window.pywebview.api.music();
            		} else {
                		alert('pywebview is not available');
            		}
		}
		document.addEventListener("DOMContentLoaded", function() {
            		document.getElementById('searchBar').addEventListener('keypress', function(event) {
                		if (event.key === 'Enter') {
                    			var searchQuery = event.target.value;
                    			search(searchQuery);
                    			event.target.value = ''; // Clear the search bar
                		}
            		});
        	});</script>

</head>

<body>

    <div id="clockbox"></div>

    <script type="text/javascript">var tday=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"];
		var tmonth=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

		function GetClock(){
    			var d = new Date();
    			var nday = d.getDay(), nmonth = d.getMonth(), ndate = d.getDate(), nyear = d.getFullYear();
    			var nhour = d.getHours(), nmin = d.getMinutes(), nsec = d.getSeconds();

    			if(nhour == 24){ nhour = 0; }

    			if(nmin <= 9) nmin = "0" + nmin;
    			<!-- ## if(nsec <= 9) nsec = "0" + nsec; -->

    			<!-- var clocktext = "<span style=\"font:97pt Arial; color:#ffffff;\">" + nhour + ":" + nmin + "</span> <br> <span style=\"font:14pt Arial; color:#ccccff;\">" + tday[nday] + ", " + tmonth[nmonth] + " " + ndate + ", " + nyear + "</span>"; -->

    			var clocktext = "<span style=\"font:97pt Arial; color:#ffffff;\">" + nhour + ":" + nmin + "</span> <br> <span style=\"font:14pt Arial; color:#ccccff;\">";

    			document.getElementById('clockbox').innerHTML = clocktext;
		}

		GetClock();
		setInterval(GetClock, 1000);</script>

    <!--Below is a weather widget from weatherwidget.io you can go there to personalize this code for your own needs  -->

    <a class="weatherwidget-io" href="https://forecast7.com/en/37d23n80d41/blacksburg/?unit=us" data-label_1="BLACKSBURG" data-label_2="WEATHER" data-theme="original">BLACKSBURG WEATHER</a>

    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');</script>

    <!-- So much fun learning, so little time!  - Randynose.com   -->
    <!-- Adding a typeable search bar with adjusted position and size -->

    <div id="searchBarContainer">

        <input type="search" id="searchBar" placeholder="What do you want?">

    </div>

    <button class="microphone" type="submit" onclick="listening()">

        <img class="microphone_img" src="C:\Users\bwroe\OneDrive\Desktop\Programs\micro-removebg-preview.png" alt="Microphone" border="0" />

    </button>

    <button class="music" type="submit" onclick="music()">

        <img class="music_img" src="C:\Users\bwroe\OneDrive\Desktop\Programs\music.png" alt="Music" border="0" />

    </button>

    <!-- Div to display the search result -->

    <div id="searchResult"></div>

    <div id="contentframe" style="position:absolute; top: 150px; left: 25px;">

        <iframe src="https://calendar.google.com/calendar/embed?height=600&wkst=1&ctz=America%2FNew_York&bgcolor=%234285F4&showTitle=0&showPrint=0&showCalendars=0&src=Yndyb2V0aW5nQGdtYWlsLmNvbQ&src=YWRkcmVzc2Jvb2sjY29udGFjdHNAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&src=dDIxZWFyYWJranVvZjRidGZiMWhnZHZhamc2NXY3c2FAaW1wb3J0LmNhbGVuZGFyLmdvb2dsZS5jb20&color=%234285F4&color=%23F6BF26&color=%23D50000" style="border:solid 1px #777" width="700" height="600" frameborder="0" scrolling="no"></iframe>

    </div>

</body>

</html>
